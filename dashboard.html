<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StayEase - Dashboard</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/dashboard.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="index.html">
          <div class="brand-logo"><i class="bi bi-compass-fill"></i></div>
          <span class="brand-text ms-2">StayEase</span>
        </a>
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto align-items-center">
            <li class="nav-item"><a class="nav-link" href="stays.html">Experiences</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#destinations">Destinations</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#becomeHostModal">Become a Host</a></li>
          </ul>
          <ul class="navbar-nav ms-auto align-items-center">
            <li class="nav-item me-2" id="navLoginItem"><a class="nav-link-auth" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a></li>
            <li class="nav-item" id="navSignupItem"><a class="btn btn-signup" href="#" data-bs-toggle="modal" data-bs-target="#signupModal">Sign Up</a></li>
            <li class="nav-item ms-2" id="navUserArea"></li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- User Offcanvas Drawer -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="navUserDrawer" aria-labelledby="navUserDrawerLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title d-flex align-items-center gap-2" id="navUserDrawerLabel">
          <img id="drawerAvatar" src="https://i.pravatar.cc/80?img=13" alt="Avatar" width="36" height="36" class="rounded-circle">
          <span id="drawerName">User</span>
        </h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div class="list-group">
          <a href="dashboard.html" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-person-circle me-2"></i> My Profile
          </a>
          <a href="#" id="drawerOpenSettings" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-gear me-2"></i> Account Settings
          </a>
          <a href="#secNotifications" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-bell me-2"></i> Notifications
          </a>
          <a href="#" id="drawerOpenPayments" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-credit-card-2-front me-2"></i> Payment Methods
          </a>
        </div>
        <hr>
        <button class="btn btn-outline-danger w-100" type="button" onclick="logoutUser()">Logout</button>
      </div>
    </div>

    <main class="dashboard-wrapper d-none" id="dashboardRoot">
      <div class="container">
        <div class="row">
          <!-- Sidebar -->
          <aside class="col-lg-3 mb-4">
            <div class="dash-sidebar card border-0 shadow-sm">
              <div class="dash-user d-flex align-items-center p-3 border-bottom">
                <img class="rounded-circle me-3" src="https://i.pravatar.cc/64?img=13" alt="User" width="48" height="48">
                <div>
                  <div class="fw-semibold" id="dashUserName">John Smith</div>
                  <small class="text-muted" id="dashUserRole">Traveler</small>
                </div>
              </div>
              <nav class="list-group list-group-flush dash-menu" id="dashMenu">
                <a class="list-group-item list-group-item-action d-flex align-items-center active" href="dashboard.html" data-section="top">
                  <span class="dash-icon"><i class="bi bi-speedometer2"></i></span> <span>Dashboard</span>
                </a>
                <a class="list-group-item list-group-item-action d-flex align-items-center" href="#" data-section="bookings">
                  <span class="dash-icon"><i class="bi bi-calendar2-week"></i></span> <span>My Bookings</span>
                </a>
                <a class="list-group-item list-group-item-action d-flex align-items-center" href="#" data-section="wishlist">
                  <span class="dash-icon"><i class="bi bi-heart"></i></span> <span>Wishlist</span>
                </a>
                <a class="list-group-item list-group-item-action d-flex align-items-center" href="#" data-section="account">
                  <span class="dash-icon"><i class="bi bi-gear"></i></span> <span>Account Settings</span>
                </a>
                <a class="list-group-item list-group-item-action d-flex align-items-center" href="#" data-section="notifications">
                  <span class="dash-icon"><i class="bi bi-bell"></i></span> <span>Notifications</span>
                </a>
                <a class="list-group-item list-group-item-action d-flex align-items-center" href="#" data-section="payments">
                  <span class="dash-icon"><i class="bi bi-credit-card-2-front"></i></span> <span>Payment Methods</span>
                </a>
              </nav>
            </div>
            <div class="dash-cta card border-0 shadow-sm mt-4 p-4 text-center">
              <h6 class="mb-2">Ready for your next adventure?</h6>
              <p class="text-muted small mb-3">Discover amazing places to stay around the world.</p>
              <a href="stays.html" class="btn btn-primary w-100">Search Listings</a>
            </div>
          </aside>

          <!-- Main -->
          <section class="col-lg-9">
            <div class="d-flex justify-content-between align-items-end mb-3">
              <div>
                <h2 class="mb-1">Welcome back, <span id="dashWelcomeName">John</span>!</h2>
                <p class="text-muted mb-0">Manage your bookings, view your stays, and explore new destinations.</p>
              </div>
            </div>

            <!-- Upcoming Bookings -->
            <div class="card border-0 shadow-sm mb-4" id="secUpcoming">
              <div class="card-header bg-white border-0 pb-0">
                <div class="d-flex justify-content-between align-items-center">
                  <h5 class="mb-0">Upcoming Bookings</h5>
                  <a href="#" class="text-decoration-none small">View All</a>
                </div>
              </div>
              <div class="card-body" id="dashUpcoming"></div>
            </div>

            <!-- Past bookings grid -->
            <div class="card border-0 shadow-sm mb-4" id="secPast">
              <div class="card-header bg-white border-0 pb-0">
                <div class="d-flex justify-content-between align-items-center">
                  <h5 class="mb-0">Past Bookings</h5>
                  <a href="#" class="text-decoration-none small">View All</a>
                </div>
              </div>
              <div class="card-body">
                <div class="row g-3" id="dashPast"></div>
              </div>
            </div>

            <!-- Notifications -->
            <div class="card border-0 shadow-sm" id="secNotifications">
              <div class="card-header bg-white border-0 pb-0">
                <div class="d-flex justify-content-between align-items-center">
                  <h5 class="mb-0">Recent Notifications</h5>
                  <a href="#" class="text-decoration-none small">View All</a>
                </div>
              </div>
              <div class="card-body" id="dashNotifs"></div>
            </div>
          </section>
        </div>
      </div>
    </main>

    <footer class="footer-new mt-5">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <div class="footer-brand mb-4">
              <div class="footer-logo"><i class="bi bi-compass-fill"></i></div>
              <span class="footer-brand-text">StayEase</span>
            </div>
            <p class="footer-description">Discover Egypt like never before with authentic local experiences and trusted hosts.</p>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-heading">About StayEase</h5>
            <ul class="footer-links">
              <li><a href="#how-it-works">How it works</a></li>
              <li><a href="#about">Our story</a></li>
              <li><a href="#safety">Safety</a></li>
              <li><a href="#community">Community</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-heading">Explore Egypt</h5>
            <ul class="footer-links">
              <li><a href="index.html#destinations">Cairo</a></li>
              <li><a href="index.html#destinations">Luxor</a></li>
              <li><a href="index.html#destinations">Aswan</a></li>
              <li><a href="index.html#destinations">Red Sea</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-heading">Help & Support</h5>
            <ul class="footer-links">
              <li><a href="#help">Help Center</a></li>
              <li><a href="#contact">Contact Us</a></li>
              <li><a href="#terms">Terms of Service</a></li>
              <li><a href="#privacy">Privacy Policy</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="row align-items-center">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
              <p class="footer-copyright mb-0">© 2025 StayEase – Explore Egypt, Feel at Home.</p>
            </div>
            <div class="col-md-6">
              <div class="footer-social">
                <a href="#" class="footer-social-link" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                <a href="#" class="footer-social-link" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                <a href="#" class="footer-social-link" aria-label="TikTok"><i class="bi bi-tiktok"></i></a>
                <a href="#" class="footer-social-link" aria-label="Settings"><i class="bi bi-gear"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Account Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title fw-bold">Account Settings</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body pt-0">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab-profile" data-bs-toggle="tab" data-bs-target="#pane-profile" type="button" role="tab">Profile</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-security" data-bs-toggle="tab" data-bs-target="#pane-security" type="button" role="tab">Security</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-payments" data-bs-toggle="tab" data-bs-target="#pane-payments" type="button" role="tab">Payments</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-danger" data-bs-toggle="tab" data-bs-target="#pane-danger" type="button" role="tab">Danger zone</button>
              </li>
            </ul>
            <div class="tab-content pt-3">
              <!-- Profile -->
              <div class="tab-pane fade show active" id="pane-profile" role="tabpanel">
                <form id="formProfile" class="row g-3">
                  <div class="col-md-3 text-center">
                    <img id="settingsAvatarPreview" src="https://i.pravatar.cc/100?img=13" class="rounded-circle mb-2" width="96" height="96" alt="Avatar">
                    <div>
                      <input type="file" id="avatarInput" accept="image/*" class="form-control form-control-sm">
                      <small class="text-muted d-block mt-1">JPG/PNG, under 2MB</small>
                    </div>
                  </div>
                  <div class="col-md-9">
                    <div class="mb-3">
                      <label class="form-label">Full name</label>
                      <input type="text" id="settingsName" class="form-control" required>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Email</label>
                      <input type="email" id="settingsEmail" class="form-control" required>
                    </div>
                    <div class="text-end">
                      <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>
                </form>
              </div>
              <!-- Security -->
              <div class="tab-pane fade" id="pane-security" role="tabpanel">
                <form id="formSecurity" class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label">Current password</label>
                    <input type="password" id="currentPassword" class="form-control" required>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">New password</label>
                    <input type="password" id="newPassword" class="form-control" minlength="6" required>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Confirm new password</label>
                    <input type="password" id="confirmPassword" class="form-control" minlength="6" required>
                  </div>
                  <div class="col-12 text-end">
                    <button type="submit" class="btn btn-primary">Update password</button>
                  </div>
                </form>
              </div>
              <!-- Payments -->
              <div class="tab-pane fade" id="pane-payments" role="tabpanel">
                <div class="row">
                  <div class="col-12">
                    <h6 class="mb-2">Advanced payment methods</h6>
                    <div class="row g-2">
                      <div class="col-6">
                        <button type="button" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-start gap-2 pay-alt-btn" data-add-pay="paypal" aria-label="PayPal">
                          <span class="pay-logo pp">PP</span><span>PayPal</span>
                        </button>
                      </div>
                      <div class="col-6">
                        <button type="button" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-start gap-2 pay-alt-btn" data-add-pay="applePay" aria-label="Apple Pay">
                          <span class="pay-logo ap"></span><span>Apple&nbsp;Pay</span>
                        </button>
                      </div>
                      <div class="col-6">
                        <button type="button" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-start gap-2 pay-alt-btn" data-add-pay="googlePay" aria-label="Google Pay">
                          <span class="pay-logo gp">G</span><span>Google&nbsp;Pay</span>
                        </button>
                      </div>
                      <div class="col-6">
                        <button type="button" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-start gap-2 pay-alt-btn" data-add-pay="bank" aria-label="Bank Transfer">
                          <span class="pay-logo bank"><i class="bi bi-bank2"></i></span><span>Bank&nbsp;Transfer</span>
                        </button>
                      </div>
                      <div class="col-12">
                        <button type="button" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-start gap-2 pay-alt-btn" data-add-pay="cash" aria-label="Cash on Arrival">
                          <span class="pay-logo cash"><i class="bi bi-cash-coin"></i></span><span>Cash on Arrival</span>
                        </button>
                      </div>
                    </div>
                    <div id="paymentMethodDetails" class="mt-3"></div>
                  </div>
                </div>
              </div>
              <!-- Danger -->
              <div class="tab-pane fade" id="pane-danger" role="tabpanel">
                <div class="alert alert-warning d-flex align-items-center">
                  <i class="bi bi-exclamation-triangle-fill me-2"></i>
                  Use caution — these actions cannot be undone.
                </div>
                <div class="d-flex flex-wrap gap-2">
                  <button id="btnLogout" class="btn btn-outline-secondary">Logout</button>
                  <button id="btnDeleteAccount" class="btn btn-outline-danger">Delete account</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Reuse existing modals for auth/host -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title fw-bold" id="loginModalLabel">Welcome Back</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body px-4 pb-4">
            <form>
              <div class="mb-3">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-control" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Password</label>
                <input type="password" class="form-control" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Login</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="signupModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title fw-bold">Create Your Account</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body px-4 pb-4">
            <form>
              <div class="mb-3">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-control" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-control" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Password</label>
                <input type="password" class="form-control" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Sign Up</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="becomeHostModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title fw-bold">Become a Host</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body px-4 pb-4">
            <form>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Full Name</label>
                  <input type="text" class="form-control" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Email Address</label>
                  <input type="email" class="form-control" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Phone Number</label>
                  <input type="tel" class="form-control" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Location</label>
                  <input type="text" class="form-control" placeholder="Cairo, Egypt" required>
                </div>
                <div class="col-12">
                  <label class="form-label">What experiences do you want to offer?</label>
                  <textarea class="form-control" rows="3" required></textarea>
                </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-success w-100">Submit Application</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>


