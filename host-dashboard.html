<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StayEase — Host Dashboard</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/dashboard.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="index.html">
          <div class="brand-logo"><i class="bi bi-compass-fill"></i></div>
          <span class="brand-text ms-2">StayEase</span>
        </a>
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto align-items-center">
            <li class="nav-item"><a class="nav-link" href="stays.html">Experiences</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#destinations">Destinations</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#becomeHostModal">Become a Host</a></li>
          </ul>
          <ul class="navbar-nav ms-auto align-items-center">
            <li class="nav-item me-2" id="navLoginItem"><a class="nav-link-auth" href="index.html?modal=login">Login</a></li>
            <li class="nav-item" id="navSignupItem"><a class="btn btn-signup" href="index.html?modal=signup">Sign Up</a></li>
            <li class="nav-item ms-2" id="navUserArea"></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- User Offcanvas Drawer (reused) -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="navUserDrawer" aria-labelledby="navUserDrawerLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title d-flex align-items-center gap-2" id="navUserDrawerLabel">
          <img id="drawerAvatar" src="https://i.pravatar.cc/80?img=13" alt="Avatar" width="36" height="36" class="rounded-circle">
          <span id="drawerName">User</span>
        </h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div class="list-group">
          <a href="host-dashboard.html" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-speedometer2 me-2"></i> Host Dashboard
          </a>
          <a href="dashboard.html" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-person-circle me-2"></i> Traveler Dashboard
          </a>
          <a href="#" id="drawerOpenSettings" class="list-group-item list-group-item-action d-flex align-items-center">
            <i class="bi bi-gear me-2"></i> Account Settings
          </a>
        </div>
        <hr>
        <button class="btn btn-outline-danger w-100" type="button" onclick="logoutUser()">Logout</button>
      </div>
    </div>

    <main class="dashboard-wrapper">
      <div class="container">
        <div class="row">
          <!-- Sidebar -->
          <aside class="col-lg-3 col-md-4 mb-4">
            <div class="list-group dash-menu" id="dashMenuHost">
              <a href="#" class="list-group-item list-group-item-action active" data-section="dashboard"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a>
              <a href="#" class="list-group-item list-group-item-action" data-section="listings"><i class="bi bi-building me-2"></i>Listings</a>
              <a href="#" class="list-group-item list-group-item-action" data-section="bookings"><i class="bi bi-calendar2-check me-2"></i>Bookings</a>
              <a href="#" class="list-group-item list-group-item-action" data-section="earnings"><i class="bi bi-currency-dollar me-2"></i>Earnings</a>
              <a href="#" class="list-group-item list-group-item-action" data-section="messages"><i class="bi bi-chat-dots me-2"></i>Messages</a>
              <a href="#" class="list-group-item list-group-item-action" data-section="settings"><i class="bi bi-gear me-2"></i>Settings</a>
            </div>
          </aside>

          <!-- Main content -->
          <section class="col-lg-9 col-md-8" id="hostRoot">
            <div class="d-flex align-items-center justify-content-between mb-3">
              <div>
                <h4 class="mb-1">Welcome back, <span class="fw-bold" id="hostName">Sarah</span>!</h4>
                <div class="text-muted small">Here's what's happening with your properties today</div>
              </div>
              <button id="btnOpenCreateListing" class="btn btn-primary"><i class="bi bi-plus-lg me-1"></i>Create New Listing</button>
            </div>

            <!-- Dashboard section -->
            <div id="secDash" class="host-section">
              <div class="row g-3 mb-4">
              <div class="col-sm-6 col-lg-3">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="text-muted small">Active Listings</div>
                    <div class="display-6 fw-bold" id="kpiListings">12</div>
                    <div class="text-success small">+2 this month</div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="text-muted small">Upcoming Bookings</div>
                    <div class="display-6 fw-bold" id="kpiBookings">28</div>
                    <div class="text-success small">+15% vs last month</div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="text-muted small">This Month Earnings</div>
                    <div class="h2 fw-bold" id="kpiEarnings">$8,420</div>
                    <div class="text-success small">+12% vs last month</div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="text-muted small">Average Rating</div>
                    <div class="display-6 fw-bold" id="kpiRating">4.8</div>
                    <div class="text-success small">+0.2 this month</div>
                  </div>
                </div>
              </div>
              </div>

              <div class="row g-3">
              <!-- Your Listings -->
              <div class="col-lg-7">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                      <h5 class="mb-0">Your Listings</h5>
                      <button class="btn btn-outline-primary btn-sm" id="btnOpenCreateListing2"><i class="bi bi-plus-lg me-1"></i>Create New Listing</button>
                    </div>
                    <div class="list-group" id="hostListingsList"></div>
                    <div class="text-center mt-3">
                      <a href="#" class="small text-decoration-none">View All Listings</a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Upcoming Bookings -->
              <div class="col-lg-5">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                      <h5 class="mb-0">Upcoming Bookings</h5>
                      <a href="#" class="small text-decoration-none">View All Bookings</a>
                    </div>
                    <div class="list-group" id="hostUpcomingBookings">
                      <div class="list-group-item d-flex align-items-center">
                        <img src="https://i.pravatar.cc/64?img=12" width="40" height="40" class="rounded-circle me-2" alt="avatar">
                        <div class="flex-grow-1">
                          <div class="fw-semibold">Michael Chen</div>
                          <div class="text-muted small">Downtown Luxury Apartment • Dec 15–18, 2024</div>
                        </div>
                        <div class="text-end">
                          <span class="badge bg-primary-subtle text-primary">Confirmed</span>
                          <div class="small text-muted mt-1">$450</div>
                        </div>
                      </div>
                      <div class="list-group-item d-flex align-items-center">
                        <img src="https://i.pravatar.cc/64?img=22" width="40" height="40" class="rounded-circle me-2" alt="avatar">
                        <div class="flex-grow-1">
                          <div class="fw-semibold">Emma Rodriguez</div>
                          <div class="text-muted small">Beachfront Villa • Dec 20–25, 2024</div>
                        </div>
                        <div class="text-end">
                          <span class="badge bg-success-subtle text-success">Check-in Today</span>
                          <div class="small text-muted mt-1">$1,400</div>
                        </div>
                      </div>
                      <div class="list-group-item d-flex align-items-center">
                        <img src="https://i.pravatar.cc/64?img=36" width="40" height="40" class="rounded-circle me-2" alt="avatar">
                        <div class="flex-grow-1">
                          <div class="fw-semibold">David Thompson</div>
                          <div class="text-muted small">Cozy Mountain Cottage • Dec 22–26, 2024</div>
                        </div>
                        <div class="text-end">
                          <span class="badge bg-warning-subtle text-warning">Pending Payment</span>
                          <div class="small text-muted mt-1">$380</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              </div>
            </div><!-- /secDash -->

            <!-- Listings section -->
            <div id="secListings" class="host-section d-none">
              <div class="card border-0 shadow-sm">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center mb-2">
                    <h5 class="mb-0">Manage Listings</h5>
                    <button class="btn btn-primary" id="btnOpenCreateListing3"><i class="bi bi-plus-lg me-1"></i>Create New Listing</button>
                  </div>
                  <div id="hostListingsTable" class="table-responsive">
                    <table class="table align-middle">
                      <thead>
                        <tr>
                          <th>Listing</th>
                          <th>Bedrooms</th>
                          <th>Price/night</th>
                          <th>Status</th>
                          <th class="text-end">Actions</th>
                        </tr>
                      </thead>
                      <tbody id="hostListingsTbody"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <!-- Bookings section -->
            <div id="secBookings" class="host-section d-none">
              <div class="card border-0 shadow-sm">
                <div class="card-body">
                  <h5 class="mb-3">All Bookings</h5>
                  <div id="hostBookingsList" class="list-group"></div>
                </div>
              </div>
            </div>

            <!-- Earnings section -->
            <div id="secEarnings" class="host-section d-none">
              <div class="card border-0 shadow-sm">
                <div class="card-body">
                  <h5 class="mb-3">Earnings Summary</h5>
                  <div class="row g-3">
                    <div class="col-sm-4">
                      <div class="p-3 border rounded-3 text-center">
                        <div class="text-muted small">This Month</div>
                        <div class="h4 fw-bold" id="earnMonth">$8,420</div>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="p-3 border rounded-3 text-center">
                        <div class="text-muted small">Last Month</div>
                        <div class="h4 fw-bold" id="earnLast">$7,520</div>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="p-3 border rounded-3 text-center">
                        <div class="text-muted small">Year to Date</div>
                        <div class="h4 fw-bold" id="earnYtd">$58,900</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Messages section -->
            <div id="secMessages" class="host-section d-none">
              <div class="card border-0 shadow-sm">
                <div class="card-body">
                  <h5 class="mb-3">Messages</h5>
                  <div class="text-muted">No new messages.</div>
                </div>
              </div>
            </div>

            <!-- Settings section -->
            <div id="secSettings" class="host-section d-none">
              <div class="card border-0 shadow-sm">
                <div class="card-body">
                  <h5 class="mb-3">Host Settings</h5>
                  <button class="btn btn-outline-secondary" id="openAccountSettings">Open Account Settings</button>
                </div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="card border-0 shadow-sm mt-4">
              <div class="card-body">
                <h5 class="mb-3">Quick Actions</h5>
                <div class="row g-3">
                  <div class="col-md-3">
                    <a id="qaCreate" href="#" class="text-decoration-none d-block p-3 border rounded-3 text-center h-100">
                      <div class="display-6 mb-2"><i class="bi bi-plus-circle"></i></div>
                      <div class="fw-semibold">Create New Listing</div>
                    </a>
                  </div>
                  <div class="col-md-3">
                    <a id="qaEarnings" href="#" class="text-decoration-none d-block p-3 border rounded-3 text-center h-100">
                      <div class="display-6 mb-2"><i class="bi bi-cash-coin"></i></div>
                      <div class="fw-semibold">View Earnings</div>
                    </a>
                  </div>
                  <div class="col-md-3">
                    <a id="qaMessages" href="#" class="text-decoration-none d-block p-3 border rounded-3 text-center h-100">
                      <div class="display-6 mb-2"><i class="bi bi-chat-dots"></i></div>
                      <div class="fw-semibold">Messages</div>
                    </a>
                  </div>
                  <div class="col-md-3">
                    <a id="qaNotifs" href="#" class="text-decoration-none d-block p-3 border rounded-3 text-center h-100">
                      <div class="display-6 mb-2"><i class="bi bi-bell"></i></div>
                      <div class="fw-semibold">Notifications</div>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>

    <!-- Host Account Settings Modal (separate from traveler dashboard) -->
    <div class="modal fade" id="settingsModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title fw-bold">Host Account Settings</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <ul class="nav nav-tabs mb-3" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="tab-profile" data-bs-toggle="tab" data-bs-target="#tabProfilePane" type="button" role="tab">Profile</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="tab-security" data-bs-toggle="tab" data-bs-target="#tabSecurityPane" type="button" role="tab">Security</button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="tabProfilePane" role="tabpanel">
                <form id="formProfile">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label class="form-label">Full name</label>
                      <input type="text" id="settingsName" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Email</label>
                      <input type="email" id="settingsEmail" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Role</label>
                      <select id="settingsRole" class="form-select" disabled>
                        <option selected>Host</option>
                      </select>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Avatar</label>
                      <input type="file" id="avatarInput" class="form-control" accept="image/*">
                    </div>
                    <div class="col-12">
                      <img id="settingsAvatarPreview" src="https://i.pravatar.cc/100?img=13" width="64" height="64" class="rounded-circle" alt="avatar">
                    </div>
                  </div>
                  <div class="mt-3 text-end">
                    <button class="btn btn-primary" type="submit">Save Profile</button>
                  </div>
                </form>
              </div>
              <div class="tab-pane fade" id="tabSecurityPane" role="tabpanel">
                <form id="formSecurity">
                  <div class="row g-3">
                    <div class="col-md-6">
                      <label class="form-label">New password</label>
                      <input type="password" id="newPassword" class="form-control" minlength="6" required>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">Confirm password</label>
                      <input type="password" id="confirmPassword" class="form-control" minlength="6" required>
                    </div>
                  </div>
                  <div class="mt-3 text-end">
                    <button class="btn btn-primary" type="submit">Update Password</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Create/Edit Listing Modal -->
    <div class="modal fade" id="listingModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <form id="formListing">
            <div class="modal-header border-0">
              <h5 class="modal-title fw-bold" id="listingModalTitle">Create Listing</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <input type="hidden" id="listingId">
              <div class="mb-3">
                <label class="form-label">Title</label>
                <input type="text" id="listingTitle" class="form-control" required>
              </div>
              <div class="row g-3">
                <div class="col-sm-6">
                  <label class="form-label">Bedrooms</label>
                  <input type="number" id="listingBeds" class="form-control" min="0" value="1" required>
                </div>
                <div class="col-sm-6">
                  <label class="form-label">Price (per night)</label>
                  <input type="number" id="listingPrice" class="form-control" min="0" value="100" required>
                </div>
              </div>
              <div class="row g-3 mt-0">
                <div class="col-sm-6">
                  <label class="form-label">Status</label>
                  <select id="listingStatus" class="form-select">
                    <option value="active">Active</option>
                    <option value="pending">Pending</option>
                  </select>
                </div>
                <div class="col-sm-6">
                  <label class="form-label">Location</label>
                  <input type="text" id="listingLocation" class="form-control" placeholder="City, Country">
                </div>
              </div>
              <div class="mt-3">
                <label class="form-label">Cover Image URL (optional)</label>
                <input type="text" id="listingImage" class="form-control" placeholder="assets/photos/cairo.png">
              </div>
            </div>
            <div class="modal-footer border-0">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <footer class="footer-new mt-4">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <div class="footer-brand mb-4">
              <div class="footer-logo"><i class="bi bi-compass-fill"></i></div>
              <span class="footer-brand-text">StayEase</span>
            </div>
            <p class="footer-description">Discover Egypt like never before with authentic local experiences and trusted hosts.</p>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-heading">About StayEase</h5>
            <ul class="footer-links">
              <li><a href="index.html#how-it-works">How it works</a></li>
              <li><a href="index.html#about">Our story</a></li>
              <li><a href="index.html#safety">Safety</a></li>
              <li><a href="index.html#community">Community</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-heading">Explore Egypt</h5>
            <ul class="footer-links">
              <li><a href="index.html#destinations">Cairo</a></li>
              <li><a href="index.html#destinations">Luxor</a></li>
              <li><a href="index.html#destinations">Aswan</a></li>
              <li><a href="index.html#destinations">Red Sea</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-heading">Help & Support</h5>
            <ul class="footer-links">
              <li><a href="#help">Help Center</a></li>
              <li><a href="#contact">Contact Us</a></li>
              <li><a href="#terms">Terms of Service</a></li>
              <li><a href="#privacy">Privacy Policy</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="row align-items-center">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
              <p class="footer-copyright mb-0">© 2025 StayEase – Explore Egypt, Feel at Home.</p>
            </div>
            <div class="col-md-6">
              <div class="footer-social">
                <a href="#" class="footer-social-link" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                <a href="#" class="footer-social-link" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                <a href="#" class="footer-social-link" aria-label="TikTok"><i class="bi bi-tiktok"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>


